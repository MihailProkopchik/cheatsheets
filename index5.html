<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <link rel="stylesheet" href="./style5.css" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Логические операторы</title>
    </head>
    <body>
        <section>
            <h1>Логические операторы</h1>
            <p>
                В JavaScript есть четыре логических оператора: <b>||</b> (ИЛИ), <b>&&</b> (И) и <b>!</b> (НЕ),
                <b>??</b> (Оператор нулевого слияния). Здесь мы рассмотрим первые три, оператор <b>??</b> будет в
                следующей статье.<br /><br />
                Несмотря на своё название, данные операторы могут применяться к значениям любых типов. Полученные
                результаты также могут иметь различный тип.<br /><br />
                Давайте рассмотрим их подробнее.
            </p>
        </section>
        <section>
            <h1>|| (ИЛИ)</h1>
            <p>
                Оператор «ИЛИ» выглядит как двойной символ вертикальной черты:<br /><br />
                result = a || b;<br /><br />
                Традиционно в программировании ИЛИ предназначено только для манипулирования булевыми значениями: в
                случае, если какой-либо из аргументов <b>true</b>, он вернёт <b>true</b>, в противоположной ситуации
                возвращается <b>false</b>.<br /><br />
                В JavaScript, как мы увидим далее, этот оператор работает несколько иным образом. Но давайте сперва
                посмотрим, что происходит с булевыми значениями.<br /><br />
                Существует всего четыре возможные логические комбинации:<br /><br />
                alert( true || true ); // true<br />
                alert( false || true ); // true<br />
                alert( true || false ); // true<br />
                alert( false || false ); // false<br /><br />
                Как мы можем наблюдать, результат операций всегда равен <b>true</b>, за исключением случая, когда оба
                аргумента <b>false</b>.<br /><br />
                Если значение не логического типа, то оно к нему приводится в целях вычислений.<br /><br />
                Например, число <b>1</b> будет воспринято как <b>true</b>, а <b>0</b> – как <b>false</b>:<br /><br />
                if (1 || 0) { // работает как if( true || false )<br />
                alert( 'truthy!' );<br />
                }<br /><br />
                Обычно оператор <b>||</b> используется в <b>if</b> для проверки истинности любого из заданных
                условий.<br /><br />
                К примеру:<br /><br />
                let hour = 9;<br /><br />
                if (hour < 10 || hour > 18) {<br />
                alert( 'Офис закрыт.' );<br />
                }<br /><br />
                Можно передать и больше условий:<br /><br />let hour = 12;<br />
                let isWeekend = true;<br /><br />
                if (hour < 10 || hour > 18 || isWeekend) {<br />
                alert( 'Офис закрыт.' ); // это выходной<br />
                }
            </p>
        </section>
        <section>
            <h1>ИЛИ "||" находит первое истинное значение</h1>
            <p>
                Описанная выше логика соответствует традиционной. Теперь давайте поработаем с «дополнительными»
                возможностями JavaScript.<br /><br />
                Расширенный алгоритм работает следующим образом.<br /><br />
                При выполнении ИЛИ <b>||</b> с несколькими значениями:<br /><br />
                result = value1 || value2 || value3;<br /><br />
                Оператор <b>||</b> выполняет следующие действия:<br /><br />
                <ul>
                    <li>Вычисляет операнды слева направо.</li>
                    <li>Каждый операнд конвертирует в логическое значение. Если результат <b>true</b>, останавливается и возвращает исходное значение этого операнда.
                    </li>
                    <li>
                          Если все операнды являются ложными(<b>false</b>), возвращает последний из них.
                    </li>
                </ul>
                 Значение возвращается в исходном виде, без преобразования.<br /><br /> Другими
                словами, цепочка ИЛИ <b>||</b> возвращает первое истинное значение или последнее, если такое значение не
                найдено.<br /><br />
                 Например:<br /><br />
                  alert( 1 || 0 ); // 1<br />
                   alert( true || 'no matter what' ); // true<br /><br />
                    alert( null || 1 );
                // 1 (первое истинное значение)<br />
                 alert( null || 0 || 1 ); // 1 (первое истинное значение) <br />
                 alert(
                undefined || null || 0 ); // 0 (поскольку все ложно, возвращается последнее значение)<br /><br />
                 Это делает
                возможным более интересное применение оператора по сравнению с «чистым, традиционным, только булевым
                ИЛИ». <br /><br />
                <b><span>1. Получение первого истинного значения из списка переменных или выражений.</span></b><br /><br /> Представим, что у нас
                имеется ряд переменных, которые могут содержать данные или быть <b>null/undefined</b>. Как мы можем найти
                первую переменную с данными?<br /><br /> 
                С помощью ||:<br /><br /> 
                let currentUser = null;<br /> 
                let defaultUser = "John";<br /><br />
                 let name =
                currentUser || defaultUser || "unnamed";<br /><br />
                 alert( name ); // выбирается "John" – первое истинное значение<br /><br />
                Если бы и <b>currentUser</b>, и <b>defaultUser</b> были ложными, в качестве результата мы бы наблюдали "unnamed".<br /><br />
            <b><span>2. Сокращённое вычисление.</span></b><br /><br /> Операндами могут быть как отдельные значения, так и произвольные выражения. ИЛИ
            <b>||</b> вычисляет их слева направо. Вычисление останавливается при достижении первого истинного значения.
                Этот процесс называется «сокращённым вычислением», поскольку второй операнд вычисляется только в том
                случае, если первого недостаточно для вычисления всего выражения.<br /><br />
                 Это хорошо заметно, когда выражение,
                указанное в качестве второго аргумента, имеет побочный эффект, например, изменение переменной.<br /><br />
                В приведённом ниже примере x не изменяется:<br /><br />
                 let x;<br /><br /> 
                 true || (x = 1);<br /><br />
                  alert(<b>x</b>); // undefined, потому что (x
                = 1) не вычисляется<br /><br />
                 Если бы первый аргумент имел значение <b>false</b>, то <b>||</b> приступил бы к вычислению второго
                и выполнил операцию присваивания:<br /><br />
                 let x;<br /><br />
                  false || (x = 1);<br /> <br />
                  alert(x); // 1 <br /><br />
                  Присваивание – лишь один
                пример. Конечно, могут быть и другие побочные эффекты, которые не проявятся, если вычисление до них не
                дойдёт.<br /><br />
                 Как мы видим, этот вариант использования <b>||</b> является "аналогом <b>if"</b>. Первый операнд преобразуется
                в логический. Если он оказывается ложным, начинается вычисление второго
                <br /><br /> В большинстве случаев лучше
                использовать «обычный» <b>if</b> чтобы облегчить понимание кода, но иногда это может быть удобно.
            </p>
        </section>
        <section>
            <h1>&& (И)</h1>
            <p>Оператор И пишется как два амперсанда <b>&&</b><br /><br />
                result = a && b;<br /><br />
                В традиционном программировании И возвращает <b>true</b>, если оба аргумента истинны, а иначе –<b>false</b>: <br /><br />      
                alert( true <b>&&</b> true );   // true<br />
                alert( false <b>&&</b> true );  // false<br />
                alert( true <b>&&</b> false );  // false<br />
                alert( false <b>&&</b> false ); // false<br /><br />
                Пример с <b>if</b>: <br /><br />       
                let hour = 12;<br />
                let minute = 30; <br /><br />         
                if (hour == 12 <b>&&</b> minute == 30) {<br />
                  alert( 'The time is 12:30' );<br />
                }<br /><br />
                Как и в случае с ИЛИ, любое значение допускается в качестве операнда И:   <br /><br />             
                if (1 <b>&&</b> 0) { // вычисляется как true && false<br />
                  alert( "не сработает, так как результат ложный" );<br />
                }
            </p>
        </section>
        <section>
            <h1>И «&&» находит первое ложное значение</h1>
            <p>
                При нескольких подряд операторах И:<br /><br />
                result = value1 && value2 && value3;<br /><br />
                Оператор <b>&&</b> выполняет следующие действия:<br /><br />
                <ul>
                <li>Вычисляет операнды слева направо.</li>
            <li>Каждый операнд преобразует в логическое значение. Если результат <b>false</b>, останавливается и возвращает исходное значение этого операнда.</li>
            <li>Если все операнды были истинными, возвращается последний.</li>
             </ul>
                Другими словами, И возвращает первое ложное значение. Или последнее, если ничего не найдено.<br /><br />
                Вышеуказанные правила схожи с поведением ИЛИ. Разница в том, что И возвращает первое ложное значение, а ИЛИ –  первое истинное.<br /><br />
                Примеры:<br /><br />
                // Если первый операнд истинный,<br />
                // И возвращает второй:<br />
                alert( 1 && 0 ); // 0<br />
                alert( 1 && 5 ); // 5<br /><br />
                // Если первый операнд ложный,<br />
                // И возвращает его. Второй операнд игнорируется<br />
                alert( null && 5 ); // null<br />
                alert( 0 && "no matter what" ); // 0<br /><br />
                Можно передать несколько значений подряд. В таком случае возвратится первое «ложное» значение, на котором остановились вычисления.<br /><br />
                alert( 1 && 2 && null && 3 ); // null<br /><br />
                Когда все значения верны, возвращается последнее<br /><br />
                alert( 1 && 2 && 3 ); // 3<br /><br />
                Как и оператор ИЛИ <b>||</b>, И <b>&&</b> иногда может заменять <b>if</b>.<br /><br />
                К примеру:<br /><br />
                let x = 1;<br /><br />
                (x > 0) && alert( 'Greater than zero!' );<br /><br />
                Действие в правой части <b>&&</b> выполнится только в том случае, если до него дойдут вычисления. То есть, <b>alert сработает</b>, если в левой части (<b>x > 0</b>) будет <b>true</b>.<br /><br />
                Получился аналог:<br /><br />
                let x = 1;<br /><br />
                if (x > 0) {<br />
                alert( 'Greater than zero!' );<br />
                }<br /><br />
                Однако, как правило, вариант с <b>if </b>лучше читается и воспринимается.<br />
                Он более очевиден, поэтому лучше использовать его.<br />
            </p>
        </section>
        <section>
            <h1>! (НЕ)</h1>
            <p>Оператор НЕ представлен восклицательным знаком <b>!</b>.<br /><br />
                Синтаксис довольно прост:<br /><br />       
                result = !value;<br /><br />
                Оператор принимает один аргумент и выполняет следующие действия: <br />
                <ol>
                    <li>Сначала приводит аргумент к логическому типу <b>true/false</b>.</li>
                    <li>Затем возвращает противоположное значение.</li>
                 </ol>     
                Например:<br /><br />         
                alert( !true ); // false<br />
                alert( !0 ); // true<br /><br />
                В частности, двойное НЕ <b>!!</b> используют для преобразования значений к логическому типу: <br /><br />               
                alert( !!"non-empty string" ); // true<br />
                alert( !!null ); // false<br /><br />
                То есть первое НЕ преобразует значение в логическое значение и возвращает обратное, а второе НЕ снова инвертирует его. В конце мы имеем простое преобразование значения в логическое.<br /><br />                
                Есть немного более подробный способ сделать то же самое – встроенная функция <b>Boolean</b>: <br /><br />              
                alert( Boolean("non-empty string") ); // true<br />
                alert( Boolean(null) ); // false<br /><br />
                Приоритет НЕ <b>!</b> является наивысшим из всех логических операторов, поэтому он всегда выполняется первым, перед <b>&&</b> или <b>||</b>.</p>
        </section>
    </body>
</html>
